<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="../../3rd/jquery-3.0.0.js" type="application/javascript"></script>
    <style>
        .greenColor {
            color: green;
        }
    </style>
</head>
<body>
<div class="SubCategoryBox">
    <ul>
        <li><a href="#">a</a><i>(1)</i></li>
        <li><a href="#">b</a><i>(2)</i></li>
        <li><a href="#">c</a><i>(3)</i></li>
        <li><a href="#">d</a><i>(4)</i></li>
        <li><a href="#">e</a><i>(5)</i></li>
        <li><a href="#">f</a><i>(6)</i></li>
        <li><a href="#">g</a><i>(7)</i></li>
        <li><a href="#">h</a><i>(8)</i></li>
        <li><a href="#">i</a><i>(9)</i></li>
        <li><a href="#">j</a><i>(10)</i></li>
        <li><a href="#">k</a><i>(11)</i></li>
        <li><a href="#">else</a><i>(100)</i></li>
    </ul>
    <div class="showmore">
        <a href="more.html"><span>显示全部</span></a>
    </div>
</div>

<script type="application/javascript">
    // 显示前六条和最后一条
    var $category = $("ul li:gt(5):not(:last)");
    $category.hide();

    // DONE 42行 return false 应该不跳转，但实际跳转了---前面出错,导致无法到return false,已修复
    // class为showmore的div的所有子元素a
    var $toggleBtn = $("div.showmore > a");

    // 状态处理
        $toggleBtn.click(function () {
            if ($category.is(":visible")) {
                $category.hide();
                $(".showmore span").text("显示全部");
                $("ul li").filter(":contains('a'),:contains('c'),:contains('e')").removeClass("greenColor");
            } else {
                $category.show();
                $(this).find('span').text("精简显示");
                $("ul li").filter(":contains('a'),:contains('c'),:contains('e')").addClass("greenColor");
            }
            return false;
        });

    // 交替处理 TODO 无法显示按钮文字--使用toggle方法就无法显示按钮文字
    //    $toggleBtn.toggle(
    //            function () {
    //                $category.hide();
    //                $(".showmore span").text("显示全部");
    //                $("ul li").filter(":contains('a'),:contains('c'),:contains('e')").removeClass("greenColor");
    //                return false;
    //            },
    //            function () {
    //                $category.show();
    //                $(this).find('span').text("精简显示");
    //                $("ul li").filter(":contains('a'),:contains('c'),:contains('e')").addClass("greenColor");
    //                return false;
    //            })

    // toggle test : Failed
//    $toggleBtn.toggle(
//            function () {
//                $("div").css("background-color", "green");
//                return false;
//            },
//            function () {
//                $("div").css("background-color", "red");
//                return false;
//            },
//            function () {
//                $("div").css("background-color", "yellow");
//                return false;
//            }
//    );


</script>
</body>
</html>